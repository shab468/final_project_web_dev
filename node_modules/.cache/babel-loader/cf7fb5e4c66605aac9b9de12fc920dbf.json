{"ast":null,"code":"var _jsxFileName = \"/Users/shabnamdin/final_project_web_dev/src/components/containers/EditCampusContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, updateCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n    this.validate = () => {\n      const errors = {};\n      if (!this.state.name.trim()) errors.name = \"Name is required.\";\n      if (!this.state.address.trim()) errors.address = \"Address is required.\";\n      return errors;\n    };\n    this.handleSubmit = async evt => {\n      evt.preventDefault();\n      const errors = this.validate();\n      if (Object.keys(errors).length > 0) {\n        this.setState({\n          errors\n        });\n        return;\n      }\n      const updatedCampus = {\n        id: this.props.match.params.id,\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl\n      };\n      await this.props.updateCampus(updatedCampus);\n      this.props.history.push(`/campus/${updatedCampus.id}`);\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {}\n    };\n  }\n  async componentDidMount() {\n    const campusId = this.props.match.params.id;\n    await this.props.fetchCampus(campusId);\n    const {\n      name,\n      address,\n      description,\n      imageUrl\n    } = this.props.campus;\n    this.setState({\n      name,\n      address,\n      description,\n      imageUrl\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditCampusView, {\n        campus: this.props.campus,\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl,\n        errors: this.state.errors,\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapState = state => ({\n  campus: state.campus\n});\nconst mapDispatch = dispatch => ({\n  fetchCampus: id => dispatch(fetchCampusThunk(id)),\n  updateCampus: campus => dispatch(updateCampusThunk(campus))\n});\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["React","Component","connect","fetchCampusThunk","updateCampusThunk","EditCampusView","Header","jsxDEV","_jsxDEV","EditCampusContainer","constructor","props","handleChange","evt","setState","target","name","value","validate","errors","state","trim","address","handleSubmit","preventDefault","Object","keys","length","updatedCampus","id","match","params","description","imageUrl","updateCampus","history","push","componentDidMount","campusId","fetchCampus","campus","render","children","fileName","_jsxFileName","lineNumber","columnNumber","mapState","mapDispatch","dispatch"],"sources":["/Users/shabnamdin/final_project_web_dev/src/components/containers/EditCampusContainer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, updateCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\nimport Header from \"./Header\";\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {}\n    };\n  }\n\n  async componentDidMount() {\n    const campusId = this.props.match.params.id;\n    await this.props.fetchCampus(campusId);\n    const { name, address, description, imageUrl } = this.props.campus;\n    this.setState({ name, address, description, imageUrl });\n  }\n\n  handleChange = (evt) => {\n    this.setState({ [evt.target.name]: evt.target.value });\n  };\n\n  validate = () => {\n    const errors = {};\n    if (!this.state.name.trim()) errors.name = \"Name is required.\";\n    if (!this.state.address.trim()) errors.address = \"Address is required.\";\n    return errors;\n  };\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    const errors = this.validate();\n    if (Object.keys(errors).length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    const updatedCampus = {\n      id: this.props.match.params.id,\n      name: this.state.name,\n      address: this.state.address,\n      description: this.state.description,\n      imageUrl: this.state.imageUrl\n    };\n\n    await this.props.updateCampus(updatedCampus);\n    this.props.history.push(`/campus/${updatedCampus.id}`);\n  };\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <EditCampusView\n          campus={this.props.campus}\n          name={this.state.name}\n          address={this.state.address}\n          description={this.state.description}\n          imageUrl={this.state.imageUrl}\n          errors={this.state.errors}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  campus: state.campus\n});\n\nconst mapDispatch = (dispatch) => ({\n  fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\n  updateCampus: (campus) => dispatch(updateCampusThunk(campus))\n});\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}